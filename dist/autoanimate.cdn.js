(()=>{var A=new Set,d=new WeakMap,w=new WeakMap,l=new WeakMap,W=new WeakMap,_=new WeakMap,b=new WeakMap,x=new WeakMap,h,g="__aa_tgt",C="__aa_del",k=t=>{let e=R(t);e&&e.forEach(n=>q(n))},j=t=>{t.forEach(e=>{e.target===h&&F(),d.has(e.target)&&m(e.target)})};function B(t){let e=W.get(t);e?.disconnect();let n=d.get(t),o=0,i=5;n||(n=y(t),d.set(t,n));let{offsetWidth:a,offsetHeight:c}=h,p=[n.top-i,a-(n.left+i+n.width),c-(n.top+i+n.height),n.left-i].map(f=>`${-1*Math.floor(f)}px`).join(" "),r=new IntersectionObserver(()=>{++o>1&&m(t)},{root:h,threshold:1,rootMargin:p});r.observe(t),W.set(t,r)}function m(t){clearTimeout(x.get(t));let e=E(t),n=typeof e=="function"?500:e.duration;x.set(t,setTimeout(()=>{let o=l.get(t);(!o||o.finished)&&(d.set(t,y(t)),B(t))},n))}function F(){clearTimeout(x.get(h)),x.set(h,setTimeout(()=>{A.forEach(t=>S(t,e=>$(()=>m(e))))},100))}function I(t){setTimeout(()=>{_.set(t,setInterval(()=>$(m.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function $(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}var P,v;typeof window<"u"&&(h=document.documentElement,P=new MutationObserver(k),v=new ResizeObserver(j),v.observe(h));function R(t){return t.reduce((e,n)=>{if(e===!1)return!1;if(n.target instanceof Element){if(T(n.target),!e.has(n.target)){e.add(n.target);for(let o=0;o<n.target.children.length;o++){let i=n.target.children.item(o);if(!!i){if(C in i)return!1;T(n.target,i),e.add(i)}}}if(n.removedNodes.length)for(let o=0;o<n.removedNodes.length;o++){let i=n.removedNodes[o];if(C in i)return!1;i instanceof Element&&(e.add(i),T(n.target,i),w.set(i,[n.previousSibling,n.nextSibling]))}}return e},new Set)}function T(t,e){!e&&!(g in t)?Object.defineProperty(t,g,{value:t}):e&&!(g in e)&&Object.defineProperty(e,g,{value:t})}function q(t){var e;let n=h.contains(t),o=d.has(t);n&&w.has(t)&&w.delete(t),l.has(t)&&((e=l.get(t))===null||e===void 0||e.cancel()),o&&n?X(t):o&&!n?H(t):Y(t)}function u(t){return Number(t.replace(/[^0-9.\-]/g,""))}function y(t){let e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function L(t,e,n){let o=e.width,i=e.height,a=n.width,c=n.height,s=getComputedStyle(t);if(s.getPropertyValue("box-sizing")==="content-box"){let r=u(s.paddingTop)+u(s.paddingBottom)+u(s.borderTopWidth)+u(s.borderBottomWidth),f=u(s.paddingLeft)+u(s.paddingRight)+u(s.borderRightWidth)+u(s.borderLeftWidth);o-=f,a-=f,i-=r,c-=r}return[o,a,i,c].map(Math.round)}function E(t){return g in t&&b.has(t[g])?b.get(t[g]):{duration:250,easing:"ease-in-out"}}function S(t,...e){e.forEach(n=>n(t,b.has(t)));for(let n=0;n<t.children.length;n++){let o=t.children.item(n);o&&e.forEach(i=>i(o,b.has(o)))}}function X(t){let e=d.get(t),n=y(t),o;if(!e)return;let i=E(t);if(typeof i!="function"){let a=e.left-n.left,c=e.top-n.top,[s,p,r,f]=L(t,e,n),M={transform:`translate(${a}px, ${c}px)`},O={transform:"translate(0, 0)"};s!==p&&(M.width=`${s}px`,O.width=`${p}px`),r!==f&&(M.height=`${r}px`,O.height=`${f}px`),o=t.animate([M,O],i)}else o=new Animation(i(t,"remain",e,n)),o.play();l.set(t,o),d.set(t,n),o.addEventListener("finish",m.bind(null,t))}function Y(t){let e=y(t);d.set(t,e);let n=E(t),o;typeof n!="function"?o=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(o=new Animation(n(t,"add",e)),o.play()),l.set(t,o),o.addEventListener("finish",m.bind(null,t))}function H(t){if(!w.has(t)||!d.has(t))return;let[e,n]=w.get(t);Object.defineProperty(t,C,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(t,n):e&&e.parentNode&&e.parentNode.appendChild(t);let[o,i,a,c]=Q(t),s=E(t),p=d.get(t),r;Object.assign(t.style,{position:"absolute",top:`${o}px`,left:`${i}px`,width:`${a}px`,height:`${c}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof s!="function"?r=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:s.duration,easing:"ease-out"}):(r=new Animation(s(t,"remove",p)),r.play()),l.set(t,r),r.addEventListener("finish",()=>{var f;t.remove(),d.delete(t),w.delete(t),l.delete(t),(f=W.get(t))===null||f===void 0||f.disconnect()})}function Q(t){let e=d.get(t),[n,,o]=L(t,e,y(t)),i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);let a=getComputedStyle(i),c=d.get(i)||y(i),s=Math.round(e.top-c.top)-u(a.borderTopWidth),p=Math.round(e.left-c.left)-u(a.borderLeftWidth);return[s,p,n,o]}function N(t,e={}){if(P&&v){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),S(t,m,I,o=>v?.observe(o)),typeof e=="function"?b.set(t,e):b.set(t,{duration:250,easing:"ease-in-out",...e}),P.observe(t,{childList:!0}),A.add(t)}}function z(t){t.directive("autoanimate",function(e,n,o){var i=n.expression,a=o.evaluate;N(e,i&&a(i)||{})})}document.addEventListener("alpine:init",function(){window.Alpine.plugin(z)});})();
